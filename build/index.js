(()=>{"use strict";const e=window.wp.i18n,t=window.wp.hooks,i=window.wp.blockEditor,n=window.wp.components,a=window.wp.element,o=window.ReactJSXRuntime;(0,t.addFilter)("blocks.registerBlockType","enable-decorative-images/add-is-decorative-attribute",(function(e){return"core/image"===e.name&&(e.attributes={...e.attributes,isDecorative:{type:"boolean",default:!1}}),e})),(0,t.addFilter)("editor.BlockEdit","enable-decorative-images/add-image-inspector-controls",(function(t){return a=>{const{name:r,attributes:s,setAttributes:l}=a;if("core/image"!==r)return(0,o.jsx)(t,{...a});const{alt:c,isDecorative:d}=s,m=(0,o.jsxs)(o.Fragment,{children:[(0,e.__)("Decorative images don't add information to the content of a page. Enabling removes alternative text and sets the image's role to presentation. ","enable-decorative-images"),(0,o.jsx)(n.ExternalLink,{href:"https://www.w3.org/WAI/tutorials/images/decorative/",children:(0,e.__)("Learn more.","enable-decorative-images")})]});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t,{...a}),(0,o.jsx)(i.InspectorControls,{children:(0,o.jsx)(n.PanelBody,{title:(0,e.__)("Accessibility","enable-decorative-images"),children:(0,o.jsx)(n.PanelRow,{children:(0,o.jsx)(n.ToggleControl,{label:(0,e.__)("Image is decorative","enable-decorative-images"),checked:d,onChange:()=>{l({isDecorative:!d,alt:d?c:""})},help:m})})})})]})}})),(0,t.addFilter)("blocks.getSaveElement","enable-decorative-images/add-accessibility-role-to-images",(function(e,t,i){const{name:n}=t,{isDecorative:o}=i,r=e?.props?.children,s=e=>a.Children.map(e,(e=>(0,a.isValidElement)(e)?"img"===e.type?(0,a.cloneElement)(e,{role:"presentation"}):e.props.children?(0,a.cloneElement)(e,{children:s(e.props.children)}):e:e));return"core/image"===n&&o&&r?(0,a.cloneElement)(e,{children:s(r)}):e}))})();