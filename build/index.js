(()=>{"use strict";const e=window.wp.i18n,t=window.wp.hooks,i=window.wp.blockEditor,n=window.wp.components,o=window.wp.element,a=window.ReactJSXRuntime;(0,t.addFilter)("blocks.registerBlockType","enable-decorative-images/add-is-decorative-attribute",(function(e){return"core/image"===e.name&&(e.attributes={...e.attributes,isDecorative:{type:"boolean",default:!1}}),e}));const r=(0,a.jsxs)(a.Fragment,{children:[(0,e.__)("Decorative images don't add information to the content of a page. Enabling removes alternative text and sets the image's role to presentation. ","enable-decorative-images"),(0,a.jsx)(n.ExternalLink,{href:"https://www.w3.org/WAI/tutorials/images/decorative/",children:(0,e.__)("Learn more.","enable-decorative-images")})]});(0,t.addFilter)("editor.BlockEdit","enable-decorative-images/add-image-inspector-controls",(function(t){return o=>{const{name:s,attributes:l,setAttributes:c}=o;if("core/image"!==s)return(0,a.jsx)(t,{...o});const{alt:d,isDecorative:m}=l;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t,{...o}),(0,a.jsx)(i.InspectorControls,{children:(0,a.jsx)(n.PanelBody,{title:(0,e.__)("Accessibility","enable-decorative-images"),children:(0,a.jsx)(n.PanelRow,{children:(0,a.jsx)(n.ToggleControl,{label:(0,e.__)("Image is decorative","enable-decorative-images"),checked:m,onChange:()=>{c({isDecorative:!m,alt:m?d:""})},help:r})})})})]})}})),(0,t.addFilter)("blocks.getSaveElement","enable-decorative-images/add-accessibility-role-to-images",(function(e,t,i){const{name:n}=t,{isDecorative:a}=i,r=e?.props?.children,s=e=>o.Children.map(e,(e=>(0,o.isValidElement)(e)?"img"===e.type?(0,o.cloneElement)(e,{role:"presentation"}):e.props.children?(0,o.cloneElement)(e,{children:s(e.props.children)}):e:e));return"core/image"===n&&a&&r?(0,o.cloneElement)(e,{children:s(r)}):e}))})();